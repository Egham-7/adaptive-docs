---
title: "Data Privacy & Retention"
description: "How Adaptive handles, stores, and protects your data with transparent retention policies"
icon: "shield-check"
---

Understanding how your data is processed, stored, and protected throughout the Adaptive platform, including what data is retained and your control over data handling.

## Data Processing Architecture

Adaptive processes data across three services with different data handling characteristics:

<CardGroup cols={3}>
  <Card title="Adaptive Backend" icon="server">
    **Go API Server**  
    Routes requests with zero content storage
  </Card>
  <Card title="Adaptive Frontend" icon="globe">
    **Next.js Web App**  
    Stores conversations for chat users only
  </Card>
  <Card title="Adaptive AI" icon="brain">
    **ML Service**  
    In-memory classification with temporary caching
  </Card>
</CardGroup>

## What Data We Store

### Backend Service (Zero Content Storage)

<CardGroup cols={2}>
  <Card title="What We Store" icon="database">
    **Metadata Only**
    - Request timestamps and token counts
    - Provider and model selections  
    - API usage statistics for billing
    - Response success/error status
    - Performance metrics (latency, throughput)
  </Card>
  <Card title="What We Never Store" icon="x-circle">
    **No Content Storage**
    - Actual prompt text or response content
    - Conversation messages or chat history
    - Personal information from requests
    - API request payloads or responses
  </Card>
</CardGroup>

### Frontend Service (Chat Platform Only)

<Warning>
**Chat vs API Usage**: Conversations are only stored when using the web chat interface. API-only users have zero conversation data stored.
</Warning>

<Tabs>
<Tab title="Chat Platform Users">
**Conversation Storage**
- Chat messages and conversation history stored in PostgreSQL
- User controls: delete individual messages or entire conversations
- Soft deletion: 30-day recovery period before permanent deletion
- Isolated per user - no cross-user data sharing

**User Controls**:
- Delete conversations anytime through the web interface
- Permanently delete with confirmation
- Export conversation history in JSON format
</Tab>

<Tab title="API-Only Users">
**Zero Conversation Storage**
- No chat history or message content stored
- Only usage metadata retained for billing
- Requests processed and forwarded without retention
- Complete privacy for API integrations
</Tab>
</Tabs>

### AI Service (Temporary Processing)

<CardGroup cols={2}>
  <Card title="In-Memory Processing" icon="memory">
    **Classification Only**
    - Prompts analyzed for task type and complexity
    - Results cached temporarily (default: 1 hour)
    - No persistent storage of prompt content
    - LRU cache with automatic eviction
  </Card>
  <Card title="Embedding Cache" icon="database">
    **Similarity Matching**
    - Stores embeddings of classification results (not raw text)
    - Used for performance optimization
    - Configurable cache size (default: 1000 entries)
    - Thread-safe with automatic cleanup
  </Card>
</CardGroup>

## Caching and Performance Storage

### Semantic Caching (Optional)

<Accordion title="How Semantic Caching Works">
**When Enabled**:
- Stores mathematical embeddings of prompt characteristics (not actual text)
- Uses Redis for distributed caching across instances
- Similarity threshold: 95% by default (configurable)
- Automatic expiration based on TTL settings

**Configuration**: Disabled by default, must be explicitly enabled
```yaml
# Backend config.yaml
model_router:
  semantic_cache:
    enabled: true          # Disabled by default
    threshold: 0.95        # 95% similarity required
    redis_url: "redis://localhost:6379"
```
</Accordion>

### Prompt Caching (Disabled by Default)

<Accordion title="Prompt Cache Configuration">
**Default State**: Completely disabled

```yaml
# Backend config.yaml  
prompt_cache:
  enabled: false           # Explicitly disabled
  default_ttl_seconds: 3600
```

**When Enabled**:
- Stores exact prompt-response pairs for identical requests
- Configurable TTL (time-to-live) settings
- Redis-backed with encryption at rest
- User can control caching per API key/project
</Accordion>

## Data Flow and Security

### Request Processing Flow

<Steps>
  <Step title="Request Received">
    Backend receives API request, extracts metadata (tokens, model, timestamp) only
  </Step>
  <Step title="AI Classification">
    AI service analyzes prompt complexity **in-memory only** - no storage of content
  </Step>
  <Step title="Provider Routing">
    Request forwarded to selected provider - Adaptive acts as secure proxy
  </Step>
  <Step title="Response Delivery">
    Response passed through without storage - only metadata logged
  </Step>
</Steps>

### Logging Practices

<CardGroup cols={2}>
  <Card title="What Gets Logged" icon="file-text">
    **Safe Metadata**
    - Request/response token counts
    - Provider selection and routing decisions
    - Performance metrics (latency, success rate)
    - Error codes and status information
    - API key prefixes (not full keys)
  </Card>
  <Card title="Content Protection" icon="shield">
    **Redacted Logging**
    - Sensitive content automatically redacted from logs
    - Only message count and length logged, never content
    - API keys masked in all log outputs
    - Personal identifiers removed from analytics
  </Card>
</CardGroup>

### Security Measures

<Steps>
  <Step title="Encryption at Rest">
    All stored data encrypted with AES-256 encryption in PostgreSQL and Redis
  </Step>
  <Step title="Encryption in Transit">
    TLS 1.3 for all communications between services and external providers
  </Step>
  <Step title="API Key Security">
    Keys are hashed and salted - only prefixes stored for identification
  </Step>
  <Step title="Access Controls">
    Role-based access with user isolation - no cross-user data access
  </Step>
</Steps>

## User Data Controls

### Conversation Management

<CardGroup cols={3}>
  <Card title="Delete Messages" icon="trash">
    **Individual Control**
    - Delete specific messages from conversations
    - Soft delete with 30-day recovery period
    - Permanent deletion option available
  </Card>
  <Card title="Delete Conversations" icon="folder-x">
    **Bulk Management**
    - Delete entire conversation threads
    - Bulk deletion tools for multiple conversations
    - Automatic cleanup after user-defined periods
  </Card>
  <Card title="Account Deletion" icon="user-x">
    **Complete Removal**
    - All user data permanently deleted
    - API keys immediately revoked
    - Process completed within 24 hours
  </Card>
</CardGroup>

### API Key Management

<Tabs>
<Tab title="Key Security">
**Secure Generation**
- Cryptographically secure key generation
- Only prefix identification stored (e.g., "ak_123...")
- Full keys shown once during creation only
- Immediate revocation available

**Key Controls**:
- Set expiration dates for automatic revocation
- Monitor usage and set rate limits
- Track last used timestamp
- Bulk key management tools
</Tab>

<Tab title="Usage Monitoring">
**Transparency**
- Real-time usage statistics per API key
- Cost tracking and billing breakdown
- Provider utilization metrics
- Error rate monitoring

**No Content Tracking**:
- Only token counts and timing data
- No storage of actual API request content
- Provider selection metadata only
</Tab>
</Tabs>

## Provider Data Handling

### Underlying Provider Policies

<Note>
When using Adaptive, your requests are forwarded to AI providers. Each provider has independent data policies that apply to your requests.
</Note>

<CardGroup cols={2}>
  <Card title="Zero Retention Providers" icon="shield-check">
    **Providers with Zero Data Retention**:
    - Groq: Zero retention policy
    - Fireworks: No data storage
    - Together AI: Zero retention
    - Several others (check provider documentation)
  </Card>
  <Card title="Standard Providers" icon="clock">
    **Providers with Limited Retention**:
    - OpenAI: 30 days for safety monitoring
    - Anthropic: 30 days for safety purposes
    - Google AI: Limited retention for safety
    - Most retain for safety/abuse prevention only
  </Card>
</CardGroup>

### Provider Selection for Privacy

<CodeGroup>
```javascript Privacy-First Routing
const completion = await openai.chat.completions.create({
  model: "",  // Enable intelligent routing
  messages: [{ role: "user", content: "Sensitive data analysis" }],
  model_router: {
    // Prefer providers with better privacy policies
    models: [
      { provider: "groq" },      // Zero retention
      { provider: "fireworks" }, // Zero retention
      { provider: "together" }   // Zero retention
    ]
  }
});
```

```python Zero Retention Focus
completion = client.chat.completions.create(
    model="",
    messages=[{"role": "user", "content": "Confidential analysis"}],
    model_router={
        "models": [
            {"provider": "groq"},      # Zero retention
            {"provider": "fireworks"}  # Zero retention
        ]
    }
)
```
</CodeGroup>

## Compliance and Transparency

### Current Compliance Status

<CardGroup cols={3}>
  <Card title="Data Minimization" icon="minimize">
    **By Design**
    - Only essential data collected
    - Automatic data expiration
    - User-controlled data retention
    - Zero content storage by default
  </Card>
  <Card title="User Rights" icon="user-check">
    **Full Control**
    - Access to all stored data
    - Deletion rights exercised immediately
    - Data portability through exports
    - Consent-based data processing
  </Card>
  <Card title="Transparency" icon="eye">
    **Open Policies**
    - Clear retention policies documented
    - Provider policy transparency
    - Usage metadata accessible to users
    - Regular policy updates communicated
  </Card>
</CardGroup>

### Data Processing Legal Basis

<Tabs>
<Tab title="API Usage">
**Contractual Necessity**
- Processing required to provide API routing services
- Usage metadata needed for billing and service delivery
- Performance monitoring for service quality
- No consent required - processing is contractually necessary
</Tab>

<Tab title="Chat Platform">
**User Consent**
- Explicit consent for conversation storage
- Users can withdraw consent (delete data) at any time
- Optional features require separate consent
- Analytics data processed under legitimate interests
</Tab>
</Tabs>

## Implementation Details

### Database Schema Privacy Features

Based on actual Prisma schema:

<CodeGroup>
```sql Soft Deletion Implementation
-- Conversations support soft deletion
model Conversation {
  id        Int       @id @default(autoincrement())
  title     String
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime? -- Soft deletion support
  userId    String    -- User isolation

  messages Message[]
  @@index([deletedAt]) -- Efficient deletion queries
}

-- Messages also support soft deletion  
model Message {
  id        String    @id @default(cuid())
  role      String
  parts     Json      -- Message content
  createdAt DateTime  @default(now())
  deletedAt DateTime? -- Soft deletion support
  
  @@index([deletedAt])
}
```

```sql Usage Metadata Only
-- Usage tracking stores metadata only
model ApiUsage {
  id           String      @id @default(cuid())
  apiKeyId     String?
  provider     String?     -- Provider used
  model        String?     -- Model selected
  inputTokens  Int         -- Token counts only
  outputTokens Int
  cost         Decimal     -- Cost information
  timestamp    DateTime    -- When request occurred
  metadata     Json?       -- Technical metadata only
  
  -- NO prompt or response content fields
}
```
</CodeGroup>

### Cache Implementation Details

<CodeGroup>
```python AI Service Caching (In-Memory)
# From classification_result_embedding_cache.py
class EmbeddingCache:
    def __init__(self, max_size: int = 1000):
        self.vectorstore = InMemoryVectorStore()  # In-memory only
        self.max_size = max_size
        self._cached_size = 0
    
    def add_to_cache(self, classification_result, orchestrator_response):
        # Only stores classification results, not raw prompts
        json_string = self._classification_result_to_json_string(classification_result)
        # Automatic LRU eviction when max_size reached
```

```yaml Backend Cache Configuration
# From config.yaml - disabled by default
prompt_cache:
  enabled: false                    # Explicitly disabled
  default_ttl_seconds: 3600
  redis_url: "${REDIS_URL:-redis://localhost:6379}"

model_router:
  semantic_cache:
    enabled: true                   # Embeddings only, not content
    threshold: 0.95                 # 95% similarity required
```
</CodeGroup>

## Data Deletion and User Rights

### Self-Service Data Management

<Steps>
  <Step title="Conversation Deletion">
    Users can delete conversations through the web interface - implements soft deletion with 30-day recovery
  </Step>
  <Step title="Message Deletion">
    Individual messages can be deleted with immediate effect in the user interface
  </Step>
  <Step title="API Key Revocation">
    API keys can be revoked immediately, stopping all associated data collection
  </Step>
  <Step title="Account Closure">
    Complete account deletion removes all associated data within 24 hours
  </Step>
</Steps>

### Data Export

<CardGroup cols={2}>
  <Card title="Available Exports" icon="download">
    **Current Features**:
    - Usage statistics and analytics data
    - API key usage history and metrics
    - Account and billing information
    - Organization and project data
  </Card>
  <Card title="Export Format" icon="file-code">
    **Technical Details**:
    - JSON format for structured data
    - CSV available for usage analytics
    - Real-time export generation
    - No third-party processing required
  </Card>
</CardGroup>

## Best Practices for Privacy

### API Users

<CardGroup cols={2}>
  <Card title="Maximum Privacy" icon="lock">
    **Recommendations**:
    - Use API-only integration (no web chat)
    - Implement client-side data filtering
    - Choose zero-retention providers when possible
    - Rotate API keys regularly
  </Card>
  <Card title="Monitoring" icon="eye">
    **Security Practices**:
    - Monitor API key usage patterns
    - Review provider selection policies
    - Check usage statistics regularly
    - Set up billing alerts for unusual activity
  </Card>
</CardGroup>

### Chat Platform Users

<CardGroup cols={2}>
  <Card title="Conversation Management" icon="messages">
    **Privacy Controls**:
    - Regularly review and delete old conversations
    - Use temporary conversations for sensitive topics
    - Monitor conversation storage in dashboard
    - Set personal data retention policies
  </Card>
  <Card title="Account Security" icon="shield">
    **Security Measures**:
    - Enable two-factor authentication
    - Review login activity regularly
    - Use strong, unique passwords
    - Monitor account access patterns
  </Card>
</CardGroup>

## Contact and Support

### Data Privacy Questions

<CardGroup cols={2}>
  <Card title="General Inquiries" icon="help-circle">
    **Support Team**
    - Email: info@llmadaptive.uk
    - Response time: Within 24 hours
    - Available for privacy policy questions
  </Card>
  <Card title="Privacy Requests" icon="mail">
    **Data Requests**
    - Email: privacy@llmadaptive.uk  
    - Data export, deletion, or access requests
    - Response time: Within 30 days per GDPR
  </Card>
</CardGroup>

### Emergency Contact

For security incidents or data breaches:
- **Email**: security@llmadaptive.uk
- **Response**: Within 4 hours
- **Escalation**: Immediate notification to affected users

## Next Steps

<CardGroup cols={2}>
  <Card title="Dashboard Settings" href="/dashboard/settings" icon="sliders">
    Review your account settings and data controls
  </Card>
  <Card title="Provider Comparison" href="/features/provider-resiliency" icon="shield">
    Compare providers and their data policies
  </Card>
</CardGroup>